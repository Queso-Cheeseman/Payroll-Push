<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2025 Payroll Push Progress Tracker</title>
  <style>
    :root {
      --snow-blue: #e4f3ff;
      --frost-blue: #b3dcff;
      --mid-blue: #4c8dff;
      --deep-blue: #1b2a4a;
      --goal-green: #57e3ff;
      --goal-teal: #6ef5c2;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #ffffff;
      background:
        radial-gradient(circle at top, #ffffff 0, #ffffff 5%, rgba(255,255,255,0.1) 30%, transparent 60%),
        linear-gradient(180deg, #10172a, #10213b 40%, #050816 100%);
      overflow: hidden;
    }

    /* Starry sky */
    #star-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      border-radius: 50%;
      background: rgba(255,255,255,0.8);
      opacity: 0.3;
      box-shadow: 0 0 6px rgba(255,255,255,0.6);
      animation: starTwinkle 4s ease-in-out infinite alternate;
    }

    @keyframes starTwinkle {
      0%   { opacity: 0.2; transform: scale(0.9); }
      50%  { opacity: 0.9; transform: scale(1.4); }
      100% { opacity: 0.3; transform: scale(1); }
    }

    /* Aurora / Northern lights */
    #aurora-layer {
      position: fixed;
      inset: -20vh 0 40vh 0;
      pointer-events: none;
      z-index: 0;
      background:
        radial-gradient(circle at 20% 0, rgba(120, 255, 214, 0.26), transparent 60%),
        radial-gradient(circle at 80% 0, rgba(118, 205, 255, 0.24), transparent 60%),
        radial-gradient(circle at 50% 10%, rgba(255, 255, 255, 0.2), transparent 70%);
      mix-blend-mode: screen;
      opacity: 0.65;
      animation: auroraDrift 20s ease-in-out infinite alternate;
    }

    @keyframes auroraDrift {
      0% {
        transform: translateX(-20px) translateY(10px) scale(1.05);
        filter: blur(4px);
      }
      100% {
        transform: translateX(20px) translateY(-10px) scale(1.15);
        filter: blur(8px);
      }
    }

    /* Snow layer container */
    #snow-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }

    .snowflake {
      position: absolute;
      top: -10px;
      color: #ffffff;
      opacity: 0.75;
      pointer-events: none;
      animation-name: snowfall;
      animation-timing-function: linear;
      animation-iteration-count: 1;
    }

    @keyframes snowfall {
      0% {
        transform: translateY(-10px) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 0.9;
      }
      100% {
        transform: translateY(110vh) translateX(40px);
        opacity: 0;
      }
    }

    .tracker-card {
      position: relative;
      padding: 32px 40px;
      border-radius: 24px;
      background: linear-gradient(
        145deg,
        rgba(255,255,255,0.12),
        rgba(180,220,255,0.18)
      );
      box-shadow:
        0 24px 60px rgba(0,0,0,0.7),
        0 0 0 1px rgba(255,255,255,0.08);
      backdrop-filter: blur(20px);
      width: min(900px, 90vw);
      z-index: 2;
      animation: cardFloat 16s ease-in-out infinite alternate;
      overflow: hidden;
    }

    /* Wreath / light aura around the card */
    .tracker-card::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      pointer-events: none;
      background:
        conic-gradient(
          from 0deg,
          rgba(255, 236, 179, 0.85),
          rgba(255, 129, 129, 0.9),
          rgba(144, 224, 239, 0.9),
          rgba(186, 230, 253, 0.9),
          rgba(167, 243, 208, 0.95),
          rgba(255, 236, 179, 0.85)
        );
      mix-blend-mode: screen;
      opacity: 0.12;
      filter: blur(12px);
      animation: lightsGlow 5s ease-in-out infinite alternate;
    }

    /* Snowdrift at bottom of card */
    .tracker-card::after {
      content: "";
      position: absolute;
      left: -10%;
      right: -10%;
      bottom: -40px;
      height: 80px;
      background: radial-gradient(circle at 50% 0, rgba(255,255,255,0.85), transparent 70%);
      opacity: 0.5;
      pointer-events: none;
    }

    @keyframes cardFloat {
      0%   { transform: translateY(0px); }
      50%  { transform: translateY(-6px); }
      100% { transform: translateY(2px); }
    }

    @keyframes lightsGlow {
      0%   { opacity: 0.1; transform: rotate(0deg); }
      100% { opacity: 0.2; transform: rotate(8deg); }
    }

    .tracker-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .title-block h1 {
      margin: 0;
      font-size: 36px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .title-block h1 span.emoji {
      font-size: 36px;
      filter: drop-shadow(0 0 6px rgba(255,255,255,0.7));
    }

    .subtitle {
      font-size: 13px;
      opacity: 0.9;
    }

    .badge {
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: linear-gradient(120deg, #facc15, #fb7185, #38bdf8);
      color: #08263a;
      font-weight: 700;
      box-shadow: 0 0 14px rgba(252, 231, 243, 0.85);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      position: relative;
      overflow: hidden;
    }

    .badge::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255,255,255,0.6), transparent 60%);
      transform: translateX(-100%);
      animation: badgeShine 3.6s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes badgeShine {
      0% { transform: translateX(-120%); }
      40% { transform: translateX(120%); }
      100% { transform: translateX(120%); }
    }

    .main-metrics {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 24px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .current-total {
      font-size: 56px;
      font-weight: 800;
      line-height: 1;
      text-shadow: 0 0 30px rgba(255,255,255,0.3);
    }

    .current-label {
      font-size: 14px;
      opacity: 0.85;
      margin-top: 6px;
    }

    .percent-block {
      text-align: right;
    }

    .percent-value {
      font-size: 28px;
      font-weight: 700;
    }

    .percent-chip {
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      background: rgba(9, 148, 255, 0.28);
      border: 1px solid rgba(181, 227, 255, 0.5);
      position: relative;
      overflow: hidden;
    }

    .percent-chip span.icon {
      font-size: 16px;
      animation: iconWiggle 2.8s ease-in-out infinite;
    }

    @keyframes iconWiggle {
      0%, 100% { transform: rotate(0deg); }
      30% { transform: rotate(-10deg); }
      40% { transform: rotate(6deg); }
      50% { transform: rotate(-4deg); }
      60% { transform: rotate(2deg); }
    }

    /* Line graph */
    .line-section {
      margin-top: 4px;
    }

    .line-track {
      position: relative;
      width: 100%;
      height: 14px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.03));
      overflow: hidden;
      box-shadow:
        inset 0 0 6px rgba(0,0,0,0.7),
        0 0 18px rgba(132, 225, 255, 0.2);
    }

    .line-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      background: linear-gradient(90deg, var(--goal-teal), var(--goal-green), var(--mid-blue));
      border-radius: inherit;
      box-shadow:
        0 0 18px rgba(111, 245, 194, 0.9),
        0 0 40px rgba(87, 227, 255, 0.7);
      transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .line-dot {
      position: absolute;
      top: 50%;
      left: 0%;
      transform: translate(-50%, -50%);
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffffff, #9fffe0);
      box-shadow:
        0 0 16px rgba(210, 255, 255, 0.8),
        0 0 32px rgba(86, 237, 255, 0.9);
      border: 2px solid rgba(255,255,255,0.8);
      transition: left 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .line-dot::after {
      content: "";
      position: absolute;
      inset: 5px;
      border-radius: inherit;
      border: 1px solid rgba(255,255,255,0.7);
    }

    .line-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      font-size: 13px;
      opacity: 0.85;
    }

    .hidden-inputs {
      display: none;
    }

    /* Santa fly-by silhouette with alternating direction */
    #santa-flyby {
      position: fixed;
      top: 12vh;
      left: -700px;
      pointer-events: none;
      z-index: 4;
      opacity: 0;
    }

    #santa-flyby .formation {
      position: relative;
    }

    #santa-flyby .sleigh-wrapper {
      display: inline-flex;
      align-items: center;
      gap: 24px;
    }

    #santa-flyby.direction-ltr .sleigh-wrapper {
      flex-direction: row;          /* Rudolph on left, moving right */
    }

    #santa-flyby.direction-rtl .sleigh-wrapper {
      flex-direction: row-reverse;  /* Rudolph on right, moving left */
    }

    .reindeer-team {
      display: flex;
      gap: 10px;
    }

    .reindeer-team svg.reindeer {
      height: 56px;
      animation: rGallop 0.45s ease-in-out infinite alternate;
      fill: #020816;
    }

    /* stagger vertical offsets for 2‚Äì2‚Äì2‚Äì2‚Äì1 formation */
    .reindeer-team .reindeer:nth-child(1),
    .reindeer-team .reindeer:nth-child(2) {
      transform: translateY(-12px);
    }
    .reindeer-team .reindeer:nth-child(3),
    .reindeer-team .reindeer:nth-child(4) {
      transform: translateY(-6px);
    }
    .reindeer-team .reindeer:nth-child(5),
    .reindeer-team .reindeer:nth-child(6) {
      transform: translateY(-1px);
    }
    .reindeer-team .reindeer:nth-child(7),
    .reindeer-team .reindeer:nth-child(8) {
      transform: translateY(5px);
    }
    .reindeer-team .reindeer:nth-child(9) {
      transform: translateY(2px);
    }

    .santa-sleigh {
      height: 90px;
      filter: drop-shadow(0 0 12px rgba(255,255,255,0.45));
    }

    @keyframes rGallop {
      from { transform: translateY(0); }
      to   { transform: translateY(-6px); }
    }

    #santa-flyby.direction-ltr.fly {
      opacity: 1;
      animation: flyby-ltr 13s linear forwards;
    }

    #santa-flyby.direction-rtl.fly {
      opacity: 1;
      animation: flyby-rtl 13s linear forwards;
    }

    @keyframes flyby-ltr {
      0%   { transform: translateX(-130vw) translateY(0vh); opacity:0; }
      10%  { opacity:1; }
      50%  { transform: translateX(0vw) translateY(-8vh); }
      90%  { opacity:1; }
      100% { transform: translateX(120vw) translateY(0vh); opacity:0; }
    }

    @keyframes flyby-rtl {
      0%   { transform: translateX(120vw) translateY(0vh); opacity:0; }
      10%  { opacity:1; }
      50%  { transform: translateX(0vw) translateY(-8vh); }
      90%  { opacity:1; }
      100% { transform: translateX(-130vw) translateY(0vh); opacity:0; }
    }

    .sparkle-container {
      position: absolute;
      inset: 0;
      overflow: visible;
    }

    .sparkle {
      position: absolute;
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 0 8px rgba(255,255,255,0.9);
      opacity: 0;
      animation: sparkleFade 1.1s ease-out forwards;
    }

    @keyframes sparkleFade {
      0%   { transform: scale(0.4); opacity:0; }
      20%  { opacity:1; }
      100% { transform: translate(-40px, -20px) scale(1); opacity:0; }
    }

    @media (max-width: 540px) {
      .tracker-card {
        padding: 24px 18px;
      }
      .current-total {
        font-size: 44px;
      }
      .tracker-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .percent-block {
        text-align: left;
      }
      #santa-flyby {
        top: 8vh;
      }
    }
  </style>
</head>
<body>

  <!-- Background layers -->
  <div id="star-layer"></div>
  <div id="aurora-layer"></div>
  <div id="snow-layer"></div>

  <!-- Santa fly-by -->
  <div id="santa-flyby" class="direction-ltr">
    <div class="formation">
      <div class="sleigh-wrapper">
        <div class="reindeer-team">
          <!-- Rudolph (front) + 8 more reindeer -->
          <svg class="reindeer rudolph" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>

          <!-- 8 more identical reindeer -->
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
          <svg class="reindeer" viewBox="0 0 120 60" aria-hidden="true">
            <path d="M15 40 L35 35 L55 40 L75 38 L95 25 L80 10 L55 18 L35 12 L15 16 Z" fill="black"/>
            <circle cx="95" cy="25" r="4" fill="black"/>
            <path d="M90 10 L85 2 M92 10 L97 2" stroke="black" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </div>

        <svg class="santa-sleigh" viewBox="0 0 260 100" aria-hidden="true">
          <!-- Sleigh silhouette -->
          <path d="M10 70 
                   Q30 90 80 85 
                   Q90 80 90 65 
                   L160 65 
                   Q180 65 190 55 
                   Q200 45 190 30 
                   Q170 10 130 20 
                   Q100 25 95 40 
                   L70 40 
                   Q40 45 10 70 Z"
                fill="#050816"/>

          <!-- Santa silhouette -->
          <path d="M105 30 
                   Q115 10 135 18 
                   Q150 25 148 40 
                   Q150 60 130 60 
                   Q115 58 110 45 
                   Q108 40 105 30 Z"
                fill="#050816"/>

          <!-- Toy sack -->
          <path d="M150 25 
                   Q145 10 165 5 
                   Q190 0 200 20 
                   Q210 40 190 55 
                   Q170 65 155 55 
                   Q140 45 150 25 Z"
                fill="#050816"/>

          <!-- Reins -->
          <path d="M145 45 Q180 35 230 30" stroke="#050816" stroke-width="5" stroke-linecap="round"/>
        </svg>
      </div>

      <div class="sparkle-container"></div>
    </div>
  </div>

  <!-- Main tracker card -->
  <div class="tracker-card">
    <div class="tracker-header">
      <div class="title-block">
        <h1>
          <span class="emoji">üéÑ</span>
          2025 Payroll Push
        </h1>
        <div class="subtitle">
          Cozy progress toward your year-end customer goal.
          <br />
          <span style="font-size: 11px; opacity: 0.8;">
            Use ‚Üë ‚Üì PgUp PgDn +/- to nudge the numbers like snowballs.
          </span>
        </div>
      </div>
      <div class="badge">
        ‚ú® Snow Day Progress
      </div>
    </div>

    <div class="main-metrics">
      <div>
        <div class="current-total" id="totalDisplay">627</div>
        <div class="current-label">Total customers so far</div>
      </div>
      <div class="percent-block">
        <div class="percent-value" id="percentDisplay">72%</div>
        <div class="percent-chip">
          <span class="icon">‚ùÑÔ∏è</span>
          <span id="chipText">LFG!</span>
        </div>
      </div>
    </div>

    <div class="line-section">
      <div class="line-track">
        <div class="line-fill" id="lineFill"></div>
        <div class="line-dot" id="lineDot"></div>
      </div>
      <div class="line-labels">
        <span>0</span>
        <span>Goal: <span id="goalLabel">870</span></span>
      </div>
    </div>

    <!-- Hidden inputs so you can still update programmatically if needed -->
    <div class="hidden-inputs">
      <input type="number" id="current" value="627">
      <input type="number" id="goal" value="870">
    </div>
  </div>

  <script>
    const currentInput   = document.getElementById("current");
    const goalInput      = document.getElementById("goal");
    const totalDisplay   = document.getElementById("totalDisplay");
    const percentDisplay = document.getElementById("percentDisplay");
    const goalLabel      = document.getElementById("goalLabel");
    const lineFill       = document.getElementById("lineFill");
    const lineDot        = document.getElementById("lineDot");
    const chipText       = document.getElementById("chipText");
    const snowLayer      = document.getElementById("snow-layer");
    const starLayer      = document.getElementById("star-layer");

    let snowIntensity = 0; // 0‚Äì1 based on progress

    const STORAGE_KEYS = {
      current: "winterGoalCurrent",
      goal: "winterGoalGoal"
    };
